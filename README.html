<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="color-scheme" content="dark light"><title>README</title><meta name="description" content="Mostly explorations in code"><meta name="author" content="Devon Burriss"><meta itemprop="name" content="README"><meta itemprop="description" content="Mostly explorations in code"><meta itemprop="image" content="https://devonburriss.me/img/explore-590.jpg"><link rel="icon" type="image/png" href="/img/favicon16.png" sizes="16x16"><link rel="icon" type="image/png" href="/img/favicon32.png" sizes="32x32"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@DevonBurriss"><meta name="twitter:title" content="README"><meta name="twitter:description" content="Mostly explorations in code"><meta name="twitter:creator" content="@DevonBurriss"><meta name="twitter:image" content="https://devonburriss.me/img/explore-590.jpg"><meta property="og:title" content="README"><meta property="og:type" content="article"><meta property="og:url" content="https://devonburriss.me/README.html"><meta property="og:image" content="https://devonburriss.me/img/explore-590.jpg"><meta property="og:description" content="Mostly explorations in code"><meta property="og:site_name" content="Devon Burriss&#39; Blog"><link rel="stylesheet" href="/css/site.css"><link rel="stylesheet" href="/css/highlight/atom-one-dark.css"><script>(function(){try{var t=localStorage.getItem('theme');if(t==='dark'||t==='light'){document.documentElement.dataset.theme=t;}}catch(e){}})();</script><script src="/js/theme.js" defer="defer"></script></head><body><header class="site-header"><nav class="site-nav"><ul class="site-links"><li><a href="/">Home</a></li><li><a href="/topics/">Topics</a></li><li><a href="/recommended-reading.html">Reading</a></li><li><a href="/about/">About</a></li><li><a href="/rss.xml">RSS</a></li></ul><button type="button" class="theme-toggle" id="theme-toggle" aria-label="Toggle light/dark theme">Theme</button></nav></header><main class="site-main"><header class="page-header"><h1>README</h1></header><article class="prose"><h1 id="devon-burriss-blog">Devon Burriss' Blog</h1>
<p>A personal blog built with F# and Giraffe.ViewEngine.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li><a href="https://dotnet.microsoft.com/download">.NET 10 SDK</a></li>
<li><a href="https://github.com/natemcmaster/dotnet-serve">dotnet-serve</a> (for local preview)</li>
</ul>
<p>Install dotnet-serve:</p>
<pre><code class="language-bash">dotnet tool install dotnet-serve
</code></pre>
<h2 id="quick-start">Quick Start</h2>
<h3 id="linuxmacos">Linux/macOS</h3>
<pre><code class="language-bash"># Build and generate site
./run.sh

# Build and serve locally
./run.sh --serve

# Build in debug mode and serve on a custom port
./run.sh --serve --debug --port 5000

# Run in watch mode (rebuilds on changes)
./run.sh --watch
</code></pre>
<h3 id="windows-powershell">Windows (PowerShell)</h3>
<pre><code class="language-powershell"># Build and generate site
./run.ps1

# Build and serve locally
./run.ps1 -Serve

# Build in debug mode and serve on a custom port
./run.ps1 -Serve -Debug -Port 5000

# Run in watch mode (rebuilds on changes)
./run.ps1 -Watch
</code></pre>
<h2 id="project-structure">Project Structure</h2>
<pre><code>.
├── _posts/           # Blog posts in Markdown with YAML front matter
├── _drafts/          # Draft posts (not published)
├── _config.yml       # Site configuration
├── _site/            # Generated output (git submodule -&gt; dburriss.github.io)
├── src/SiteRenderer/ # F# static site generator
│   ├── Models.fs     # Data types
│   ├── Parsing.fs    # Markdown and YAML parsing
│   ├── Layouts.fs    # HTML templates using Giraffe.ViewEngine
│   ├── Feeds.fs      # RSS and Atom feed generation
│   ├── Renderer.fs   # Site rendering pipeline
│   └── Program.fs    # CLI entry point
├── css/              # Stylesheets
├── js/               # JavaScript files
├── img/              # Images
├── fonts/            # Web fonts
├── run.sh            # Build script (Linux/macOS)
├── run.ps1           # Build script (Windows)
├── publish.sh        # Deploy script (Linux/macOS)
└── publish.ps1       # Deploy script (Windows)
</code></pre>
<h2 id="writing-posts">Writing Posts</h2>
<p>Create a new Markdown file in <code>_posts/</code> with the naming format <code>YYYY-MM-DD-slug.md</code>.</p>
<h3 id="creating-drafts">Creating Drafts</h3>
<p>Use the interactive scripts to create new draft posts in <code>_drafts/</code>:</p>
<h4 id="linuxmacos-1">Linux/macOS</h4>
<pre><code class="language-bash">./new-draft.sh
</code></pre>
<h4 id="windows-powershell-1">Windows (PowerShell)</h4>
<pre><code class="language-powershell">./new-draft.ps1
</code></pre>
<p>The scripts will:</p>
<ul>
<li>Prompt for title, subtitle, category, tags, and header image</li>
<li>Automatically generate a URL-safe slug from the title</li>
<li>Create a file with today's date prefix (e.g., <code>2025-12-03-my-post-title.md</code>)</li>
<li>Generate complete YAML front matter</li>
<li>Optionally open the file in your default editor</li>
</ul>
<p>To skip opening the editor, use:</p>
<pre><code class="language-bash">./new-draft.sh --no-editor
# or
./new-draft.ps1 -NoEditor
</code></pre>
<h3 id="promoting-drafts">Promoting Drafts</h3>
<p>When a draft is ready for publication, use the <code>promote-draft</code> script to move it to <code>_posts/</code> and set <code>published: true</code>.</p>
<h4 id="linuxmacos-2">Linux/macOS</h4>
<pre><code class="language-bash">./promote-draft.sh
# or with a custom date
./promote-draft.sh --date 2025-12-25
</code></pre>
<h4 id="windows-powershell-2">Windows (PowerShell)</h4>
<pre><code class="language-powershell">./promote-draft.ps1
# or with a custom date
./promote-draft.ps1 -Date 2025-12-25
</code></pre>
<h3 id="front-matter">Front Matter</h3>
<p>Each post should have YAML front matter at the top:</p>
<pre><code class="language-yaml">---
layout: post
title: &quot;Your Post Title&quot;
subtitle: &quot;An optional subtitle&quot;
date: 2024-01-15
author: &quot;Devon Burriss&quot;
header-img: &quot;img/backgrounds/your-header.jpg&quot;
social-img: &quot;img/posts/your-social-image.jpg&quot;
tags:
  - Tag1
  - Tag2
categories:
  - Category
comments: true
---
</code></pre>
<h3 id="front-matter-fields">Front Matter Fields</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>layout</code></td>
<td>No</td>
<td>Layout template (default: <code>post</code>)</td>
</tr>
<tr>
<td><code>title</code></td>
<td>Yes</td>
<td>Post title</td>
</tr>
<tr>
<td><code>subtitle</code></td>
<td>No</td>
<td>Subtitle shown below title</td>
</tr>
<tr>
<td><code>date</code></td>
<td>No</td>
<td>Post date (extracted from filename if not specified)</td>
</tr>
<tr>
<td><code>author</code></td>
<td>No</td>
<td>Author name (default: site author)</td>
</tr>
<tr>
<td><code>header-img</code></td>
<td>No</td>
<td>Header background image</td>
</tr>
<tr>
<td><code>social-img</code></td>
<td>No</td>
<td>Image for social media sharing</td>
</tr>
<tr>
<td><code>tags</code></td>
<td>No</td>
<td>List of tags</td>
</tr>
<tr>
<td><code>categories</code></td>
<td>No</td>
<td>List of categories</td>
</tr>
<tr>
<td><code>comments</code></td>
<td>No</td>
<td>Enable/disable Disqus comments (default: true)</td>
</tr>
<tr>
<td><code>published</code></td>
<td>No</td>
<td>Set to <code>false</code> to exclude from build</td>
</tr>
<tr>
<td><code>permalink</code></td>
<td>No</td>
<td>Custom URL path</td>
</tr>
</tbody>
</table>
<h2 id="configuration">Configuration</h2>
<p>Edit <code>_config.yml</code> to customize site settings:</p>
<pre><code class="language-yaml"># Site settings
title: Your Blog Title
description: &quot;Blog description&quot;
author: &quot;Your Name&quot;
url: &quot;https://yourdomain.com/&quot;

# Social
twitter_username: YourTwitter
github_username: YourGitHub
disqus_username: your-disqus-shortname

# Analytics
google_tracking_id: UA-XXXXXXXX-X
</code></pre>
<h2 id="renderer-options">Renderer Options</h2>
<p>The SiteRenderer supports these command-line options:</p>
<pre><code>--source &lt;path&gt;      Source directory (default: current directory)
--output &lt;path&gt;      Output directory (default: _site)
--config &lt;path&gt;      Path to _config.yml (default: &lt;source&gt;/_config.yml)
--posts-per-page     Number of posts per index page (default: 10)
--help               Show help message
</code></pre>
<h2 id="development">Development</h2>
<h3 id="building-and-rendering">Building and Rendering</h3>
<p>You can use the helper scripts for individual steps of the process:</p>
<h4 id="build-project">Build Project</h4>
<pre><code class="language-bash"># Linux/macOS
./build.sh          # Release mode
./build.sh --debug  # Debug mode
</code></pre>
<pre><code class="language-powershell"># Windows
./build.ps1
./build.ps1 -Debug
</code></pre>
<h4 id="render-site">Render Site</h4>
<p>To regenerate the site content without rebuilding the binary:</p>
<pre><code class="language-bash"># Linux/macOS
./render.sh
</code></pre>
<pre><code class="language-powershell"># Windows
./render.ps1
</code></pre>
<h3 id="formatting-code">Formatting Code</h3>
<pre><code class="language-bash">dotnet fantomas ./src/SiteRenderer/
</code></pre>
<h2 id="deployment">Deployment</h2>
<h3 id="cicd-with-github-actions">CI/CD with GitHub Actions</h3>
<p>The site is automatically built and deployed via GitHub Actions when changes are pushed to the <code>source</code> branch. The workflow:</p>
<ol>
<li>Checks out the <code>source</code> branch with submodules</li>
<li>Builds the F# SiteRenderer</li>
<li>Generates the static site into <code>_site/</code></li>
<li>Pushes the generated content to the <code>master</code> branch of <code>dburriss.github.io</code> for GitHub Pages hosting</li>
</ol>
<h3 id="repository-setup">Repository Setup</h3>
<p>The <code>_site/</code> directory is a <strong>git submodule</strong> pointing to <code>dburriss/dburriss.github.io.git</code>. This is where the generated site is published.</p>
<p><strong>Required GitHub Secret:</strong></p>
<p>A <code>DEPLOY_TOKEN</code> secret must be configured in the repository settings. This should be a Personal Access Token (PAT) with <code>repo</code> scope to allow pushing to the <code>dburriss.github.io</code> repository.</p>
<h3 id="manual-deployment">Manual Deployment</h3>
<p>You can publish the site manually using the publish scripts:</p>
<pre><code class="language-bash"># Linux/macOS
./publish.sh

# Windows (PowerShell)
./publish.ps1

# Dry-run to see what would be published (no changes made)
./publish.sh --dry-run
./publish.ps1 -DryRun
</code></pre>
<p>The publish scripts will:</p>
<ol>
<li>Reinitialize the <code>_site</code> submodule if needed (the renderer wipes the directory)</li>
<li>Checkout the <code>master</code> branch</li>
<li>Stage and commit all changes</li>
<li>Force-push to <code>origin/master</code></li>
</ol>
<h3 id="submodule-setup">Submodule Setup</h3>
<p>If cloning the repository fresh:</p>
<pre><code class="language-bash">git clone --recurse-submodules https://github.com/dburriss/dburriss.github.io.git
# Or if already cloned:
git submodule update --init
</code></pre>
<h3 id="troubleshooting-submodule-issues">Troubleshooting Submodule Issues</h3>
<p>If you encounter this error when running <code>./publish.sh</code>:</p>
<pre><code>fatal: destination path '/home/deebo/Projects/blog/source/_site' already exists and is not an empty directory.
fatal: clone of 'git@github.com:dburriss/dburriss.github.io.git' into submodule path '/home/deebo/Projects/blog/source/_site' failed
</code></pre>
<p>This happens because the site renderer wipes the <code>_site</code> directory, removing the git repository, but the directory still contains generated files. To fix:</p>
<pre><code class="language-bash"># Remove the generated files and properly initialize the submodule
rm -rf _site
git submodule update --init _site

# Then regenerate the site before publishing
./render.sh
</code></pre>
</article></main><footer class="site-footer"><p>Copyright &#169; <a href="/about/">Devon Burriss</a> 2026</p></footer><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-45750611-2', 'auto');ga('send', 'pageview');</script></body></html>