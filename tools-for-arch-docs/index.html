<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="color-scheme" content="dark light"><title>Tools for architecture documentation</title><meta name="description" content="Using a devcontainer with VS Code makes it easy for everyone to get up and running creating C4, PlantUML, and Mermaid diagrams. "><meta name="author" content="Devon Burriss"><meta itemprop="name" content="Tools for architecture documentation"><meta itemprop="description" content="Using a devcontainer with VS Code makes it easy for everyone to get up and running creating C4, PlantUML, and Mermaid diagrams. "><meta itemprop="image" content="https://devonburriss.me/img/posts/2018/hammer-500.jpg"><link rel="canonical" href="https://devonburriss.me/tools-for-arch-docs/"><meta itemprop="datePublished" content="2022-05-24" id="date"><meta itemprop="dateModified" content="2022-05-24" id="mdate"><meta itemprop="headline" content="Tools for architecture documentation - Using devcontainers to enable easy developer documentation"><meta itemprop="mainEntityOfPage" content="https://devonburriss.me/tools-for-arch-docs/"><meta name="headline" content="Tools for architecture documentation - Using devcontainers to enable easy developer documentation"><link rel="icon" type="image/png" href="/img/favicon16.png" sizes="16x16"><link rel="icon" type="image/png" href="/img/favicon32.png" sizes="32x32"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@DevonBurriss"><meta name="twitter:title" content="Tools for architecture documentation"><meta name="twitter:description" content="Using a devcontainer with VS Code makes it easy for everyone to get up and running creating C4, PlantUML, and Mermaid diagrams. "><meta name="twitter:creator" content="@DevonBurriss"><meta name="twitter:image" content="https://devonburriss.me/img/posts/2018/hammer-500.jpg"><meta property="og:title" content="Tools for architecture documentation"><meta property="og:type" content="article"><meta property="og:url" content="https://devonburriss.me/tools-for-arch-docs/"><meta property="og:image" content="https://devonburriss.me/img/posts/2018/hammer-500.jpg"><meta property="og:description" content="Using a devcontainer with VS Code makes it easy for everyone to get up and running creating C4, PlantUML, and Mermaid diagrams. "><meta property="og:site_name" content="Devon Burriss&#39; Blog"><link rel="stylesheet" href="/css/site.css"><link rel="stylesheet" href="/css/highlight/atom-one-dark.css"><script>(function(){try{var t=localStorage.getItem('theme');if(t==='dark'||t==='light'){document.documentElement.dataset.theme=t;}}catch(e){}})();</script><script src="/js/theme.js" defer="defer"></script><script type="module" src="/js/search-ui.js"></script></head><body><header class="site-header"><nav class="site-nav"><a class="site-title nav-badge" href="/">DEVON BURRISS</a><ul class="site-links"><li><a href="/">Home</a></li><li><a href="/topics/">Topics</a></li><li><a href="/notes/">Notes</a></li><li><a href="/recommended-reading.html">Reading</a></li><li><a href="/about/">About</a></li><li><a href="/rss.xml">RSS</a></li></ul><button type="button" class="theme-toggle" id="theme-toggle" aria-label="Toggle light/dark theme">Theme</button></nav></header><main class="site-main"><span style="display:contents"><header class="page-header"><h1>Tools for architecture documentation</h1><p class="page-subtitle">Using devcontainers to enable easy developer documentation</p><p class="post-meta">Devon Burriss &#183; May 24, 2022</p></header><div class="topic-pills"><a class="topic-pill" href="/topics/software-design/" title="Architecture, design, modeling, and distributed systems.">Software Design</a><a class="topic-pill" href="/topics/tooling-automation/" title="Build tooling, CI/CD, editors, and developer automation.">Tooling &amp; Automation</a></div><hr></span><article class="prose"><p>Keeping documentation up to date can be difficult, and an extra barrier can be if you need extra tools setup &ldquo;just so&rdquo; to contribute to the docs. In this post I will give a quick run-through of setting up a <strong><a href="https://code.visualstudio.com/docs/remote/create-dev-container">devcontainer</a></strong> to help with great markdown editing, PlantUML, C4, and Mermaid diagrams. Another part of the documentation is the use of Architecture Decision Records, which will also be supported by the <strong>devcontainer</strong>.</p>
<!--more-->
<p>I recently setup a devcontainer for out &ldquo;Patterns and Practices&rdquo; repository at work. This makes it easy for a developer to jump in and contribute without needing to install the required tools.</p>
<p>In this post I won't be diving into the details of setting up a devcontainer. Instead I will show you what the container setup gives you and then point you toward where you can get it. I will callout the parts of the setup as I demo their results.</p>
<p>This setup uses the following tools:</p>
<ul>
<li><a href="https://code.visualstudio.com/docs">VS Code</a></li>
<li><a href="https://graphviz.org/">Graphviz</a></li>
<li><a href="https://plantuml.com">PlatUML</a></li>
<li><a href="https://c4model.com/">C4</a></li>
<li><a href="https://mermaid-js.github.io/">Mermaid</a></li>
<li><a href="https://github.com/npryce/adr-tools/blob/master/INSTALL.md">ADR Tool</a></li>
</ul>
<p>This will not be a thorough examination of each tool, although I will at least motivate why they are on the list.</p>
<h2 id="local-setup">Local setup</h2>
<p>I will be starting with a clean VS Code setup to show that the devcontainer is doing all the work.</p>
<p><img src="../img/posts/2022/2022-05-23-21-01-51.png" alt="Clean VS Code setup" /></p>
<p>So the first things we need to do is make sure that you VS Code is ready to run a dev container:</p>
<ul>
<li>Make sure you have <a href="https://www.docker.com/">Docker</a> installed</li>
<li>Install the Remote - Containers extension</li>
</ul>
<p><img src="../img/posts/2022/2022-05-24-07-37-10.png" alt="Remote Containers extension" /></p>
<p>That's it! Your VC Code is now ready to run a devcontainer.</p>
<h2 id="getting-the-devcontainer">Getting the devcontainer</h2>
<p>The example repository can be found at <a href="https://github.com/dburriss/tools-for-arch-docs-example">https://github.com/dburriss/tools-for-arch-docs-example</a>. Either clone this or copy the <em>.vscode</em> and <em>.devcontainer</em> folders into the folder where you will be storing your markdown documentation.</p>
<p>It should prompt you to open in the container but if not bring up the command pallette and choose &ldquo;Reopen in Container&rdquo;.</p>
<p><img src="../img/posts/2022/2022-05-24-20-45-35.png" alt="Reopen in Container" /></p>
<p>Next let's look at the various diagrams available to us.</p>
<h2 id="graphviz">Graphviz</h2>
<p><a href="https://graphviz.org/">Graphviz</a> is a fairly low-level drawing language (compared to other diagrams shown later). It uses .dot files to define diagrams.</p>
<p>Hit <em>Ctrl-Shift-v</em> to see a preview.</p>
<p><img src="../img/posts/2022/2022-05-24-21-54-54.png" alt="Graphviz image" /></p>
<p>Graphviz is really powerful and flexible and this is why PlatUML is actually built on top of it, which is why it is included in this list. Personally, I have not used it much for architecture drawings.</p>
<p>It can be useful to generate diagrams dynamically since it is on the command-line.</p>
<p><img src="../img/posts/2022/2022-05-24-21-59-46.png" alt="dot command" /></p>
<h2 id="plantuml">PlantUML</h2>
<p>The next diagram we will try out will be a <a href="https://plantuml.com">PlatUML</a> diagram. PlatUML has been around for a while and so supports a wide variety of diagram types.</p>
<p>Pressing <em>Alt-d</em> will bring up the render of the PlantUML diagram.</p>
<p><img src="../img/posts/2022/2022-05-24-20-35-31.png" alt="Project structure in PlantUML" /></p>
<p>Pulling up the command pallette with <em>ctrl-p</em> then <em>&gt;</em> allows you to export.</p>
<p><img src="../img/posts/2022/2022-05-25-19-49-54.png" alt="export command" /></p>
<p>Good to know you can control the expected source and output folders in the <em>.vscode/settings.json</em> file:</p>
<pre><code class="language-json">&quot;plantuml.diagramsRoot&quot;: &quot;diagrams/src&quot;,
&quot;plantuml.exportOutDir&quot;: &quot;diagrams/out&quot;,
&quot;plantuml.exportFormat&quot;: &quot;png&quot;
</code></pre>
<p>PlantUML is useful in the number of standard software diagram it supports. Check out the docs for a a complete list and usage.</p>
<h2 id="c4">C4</h2>
<p><a href="https://c4model.com/">C4</a> diagrams are my goto when I want to explore or change an existing system or plan a new one. The creator Simon Brown had the insight that architecture diagrams should be like maps, and maps have a certain zoom level (show globe vs. country vs. city) and type (topographic vs. political). C4 diagrams have 4 main levels: System context, Container (running applications), and Code. There are others but these are the main ones that give it it's name.</p>
<p>Since it leverages PlantUML, <em>Alt-d</em> will get you a preview.</p>
<p><img src="../img/posts/2022/2022-05-25-08-55-01.png" alt="Context diagram" /></p>
<p>I highly recommend diving into C4. It is a valuable framework for organizing and structural drawing architecture diagrams. I have even experimented with functional modeling and you can judge the result <a href="https://devonburriss.me/functional-modeling/">here</a>.</p>
<h2 id="mermaid">Mermaid</h2>
<p><a href="https://mermaid-js.github.io/">Mermaid</a> is the new kid on the block when it comes to software diagramming. It has some of the usual suspects like Sequence and Class diagrams but then has some new ones like User Journey and Gitgraph diagrams.</p>
<p>It also has some interesting tooling options like being able to embed into markdown via a link to the Mermaid site as well as support menus and links on elements. Of interest if you use GitHub to host markdown, they now <a href="https://github.blog/2022-02-14-include-diagrams-markdown-files-mermaid/">support Mermaid in their markdown</a>.</p>
<p><img src="../img/posts/2022/2022-05-25-20-14-42.png" alt="Mermaid git image" /></p>
<p>You can also have a standalone file, although I found this is a bit buggy.</p>
<p><img src="../img/posts/2022/2022-05-25-20-33-53.png" alt="Mermaid file" /></p>
<p>I am interested to see what new diagrams Mermaid releases. Hopefully a C4 diagram set!</p>
<h2 id="conclusion">Conclusion</h2>
<p>That is it! What do you think? Using these already? Think you will use them going forward? With the devcontainer it is super easy to get started and give these diagrams a try.</p>
<p>There are a couple things in the devcontainer I have not covered that you may be interested in:</p>
<h3 id="architecture-decision-records">Architecture Decision Records</h3>
<p><img src="../img/posts/2022/2022-05-25-20-43-46.png" alt="ADR CLI" /></p>
<p>Useful for recording the history of significant decisions made for an application or system of applications. Warning: requires discipline from the team to log decisions.</p>
<h3 id="markdown-plugins">Markdown plugins</h3>
<p>The Markdown Extension Pack comes with plenty of useful plugins for working with markdown from tables to emojis.</p>
<h3 id="organization-repository-responsibility">Organization repository responsibility</h3>
<p>I am not going to dive into it but in the repository there is a script called <em>generate-applications-md.fsx</em> that generates a markdown file with a table of all GitHub repositories in an organisation. If you add 2 specific topics to a GitHub repo, namely <code>team-name</code> and <code>domain-name</code>, it will use these to populate the team name and domain. Usage is in comments at the top of the script.</p>
<p><img src="../img/posts/2022/2022-05-25-21-28-43.png" alt="repo table" /></p>
<h2 id="plugin-docs">Plugin docs</h2>
<p>Here is the list of plugins included in this devcontainer.</p>
<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=bat67.markdown-extension-pack">Markdown Extension Pack</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=joaompinto.vscode-graphviz">Graphviz (dot) language support</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml">PlantUML</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=vstirbu.vscode-mermaid-preview">Mermaid</a></li>
</ul>
</article><hr><nav class="pager"><ul class="pager-links"><li><a href="/fp-architecture/" title="A simple FP architecture">← Previous</a></li><li><a href="/choosing-a-telemetry-platform/" title="Choosing a telemetry platform">Next →</a></li></ul></nav></main><footer class="site-footer"><p>Copyright &#169; <a href="/about/">Devon Burriss</a> 2026</p></footer><div class="comments"><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname = 'devonburriss';(function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = 'https://devonburriss.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-45750611-2', 'auto');ga('send', 'pageview');</script></body></html>