<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="color-scheme" content="dark light"><title>Installing Ubuntu on Hyper-V</title><meta name="description" content="Creating a Generation 2 Virtual Machine"><meta name="author" content="Devon Burriss"><meta itemprop="name" content="Installing Ubuntu on Hyper-V"><meta itemprop="description" content="Creating a Generation 2 Virtual Machine"><meta itemprop="image" content="https://devonburriss.me/img/explore-590.jpg"><link rel="canonical" href="https://devonburriss.me/installing-ubuntu-on-hyper-v/"><meta itemprop="datePublished" content="2015-03-06" id="date"><meta itemprop="dateModified" content="2015-03-06" id="mdate"><meta itemprop="headline" content="Installing Ubuntu on Hyper-V - Creating a Generation 2 Virtual Machine"><meta itemprop="mainEntityOfPage" content="https://devonburriss.me/installing-ubuntu-on-hyper-v/"><meta name="headline" content="Installing Ubuntu on Hyper-V - Creating a Generation 2 Virtual Machine"><link rel="icon" type="image/png" href="/img/favicon16.png" sizes="16x16"><link rel="icon" type="image/png" href="/img/favicon32.png" sizes="32x32"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@DevonBurriss"><meta name="twitter:title" content="Installing Ubuntu on Hyper-V"><meta name="twitter:description" content="Creating a Generation 2 Virtual Machine"><meta name="twitter:creator" content="@DevonBurriss"><meta name="twitter:image" content="https://devonburriss.me/img/explore-590.jpg"><meta property="og:title" content="Installing Ubuntu on Hyper-V"><meta property="og:type" content="article"><meta property="og:url" content="https://devonburriss.me/installing-ubuntu-on-hyper-v/"><meta property="og:image" content="https://devonburriss.me/img/explore-590.jpg"><meta property="og:description" content="Creating a Generation 2 Virtual Machine"><meta property="og:site_name" content="Devon Burriss&#39; Blog"><link rel="stylesheet" href="/css/site.css"><link rel="stylesheet" href="/css/highlight/atom-one-dark.css"><script>(function(){try{var t=localStorage.getItem('theme');if(t==='dark'||t==='light'){document.documentElement.dataset.theme=t;}}catch(e){}})();</script><script src="/js/theme.js" defer="defer"></script></head><body><header class="site-header"><nav class="site-nav"><ul class="site-links"><li><a href="/">Home</a></li><li><a href="/topics/">Topics</a></li><li><a href="/recommended-reading.html">Reading</a></li><li><a href="/about/">About</a></li><li><a href="/rss.xml">RSS</a></li></ul><button type="button" class="theme-toggle" id="theme-toggle" aria-label="Toggle light/dark theme">Theme</button></nav></header><main class="site-main"><span style="display:contents"><header class="page-header"><h1>Installing Ubuntu on Hyper-V</h1><p class="page-subtitle">Creating a Generation 2 Virtual Machine</p><p class="post-meta">Devon Burriss &#183; Mar 06, 2015</p></header><hr></span><article class="prose"><p>The reason for this post is just to remind me of a few little things you need to do if you want to create a Generation 2 Ubuntu Virtual Machine on Hyper-V. When setting up the virtual machine in Hyper-V and you select Generation 2.</p>
<!--more-->
<h2 id="create-a-virtual-switch-1st">Create a Virtual Switch 1st</h2>
<p><img src="/img/posts/2015/Switch1.png" alt="Navigating to Virtual Switch Manager" />
I have had good mileage with creating an &quot;External Network&quot; and settiong it to use my Wireless adapter.
<img src="/images/posts/2015/Switch2-1.png" alt="Virtual Switches" />
For one wireless network at a coffee shop it didn't work and I had to switch to a private one which is a bit more work to create. This blog post describes that setup. One caveat was I had to disable my LAN adapter to get the private setup described to work but your mileage might vary.
See: <a href="http://www.hurryupandwait.io/blog/running-an-ubuntu-guest-on-hyper-v-assigned-an-ip-via-dhcp-over-a-wifi-connection">http://www.hurryupandwait.io/blog/running-an-ubuntu-guest-on-hyper-v-assigned-an-ip-via-dhcp-over-a-wifi-connection</a></p>
<h2 id="create-the-virtual-machine">Create the Virtual Machine</h2>
<p>Go ahead now and click <strong>New &gt; Virtual Machine</strong> and follow the wizard. Remeber to pick <strong>Generation 2</strong>. Choose the virtual switch you setup previously. In <strong>Installation Options</strong> choose the Ubuntu image you downloaded from their website. Remember that for a generation 2 it must be the 64-bit version.
<img src="/img/posts/2015/Generation2.png" alt="Pick Generation 2" />
Here is a full walkthrough of the process if you need it: <a href="http://www.servethehome.com/run-ubuntu-windows-8-hyper-v-quickly/">Step by step install of Ubuntu on Hyper-V</a></p>
<p>##Before starting it up
The final thing to remember to do before starting up the newly created virtual machine is go into its settings.
<img src="/img/posts/2015/Settings1.png" alt="Navigating to settings" />
Make sure you uncheck Safe Boot
<img src="/img/posts/2015/Settings2.png" alt="Uncheck Secure Boot" /></p>
<h2 id="thats-it">Thats it</h2>
<p>You can now bootup you new virtual machine and Ubuntu will take you through the setup process. Hope this helped you and I am sure it will help future me when I bump up against some of these issues next time I create a new Linux Hyper-V.</p>
<h3 id="setting-the-resolution">Setting the resolution</h3>
<p>One thing you may want to do is change the resolution that Ubuntu runs at. If you go into display settings you will find that you cannot change the resolution there.
It is fairly straight forward but does require some editing of config files.</p>
<ul>
<li>Open up Terminal</li>
<li>Type <code>sudo nano /etc/default/grub</code> and enter (or you can use vi if you prefer)</li>
<li>Find the setting <strong>GRUB_CMDLINE_LINUX_DEFAULT</strong> and add to it so it includes the resolution you want.
<code>GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet splash video=hyperv_fb:1280x720&quot;</code></li>
<li>Save and exit nano</li>
<li>Type <code>sudo update-grub</code> and enter (I ran into a problem here)</li>
<li>Restart the VM</li>
</ul>
<p>I believe that 1920 x 1080 is the max that Hyper-V supports.</p>
<blockquote>
<p><strong>sudo update-grub</strong> was frezzing/hanging whenever I tried to run it. I suspect that this was because I had an external drive in when I created the VM and grub was searching for it.
I managed to get past this by adding the following line at the bottom of /etc/default/grub
<code>GRUB_DISABLE_OS_PROBER=true </code></p>
</blockquote>
<h4 id="setup">Setup:</h4>
<blockquote>
<p>This setup is valid as of Windows 8.1 running Hyper-V and installing Ubuntu 14.10 as the guest OS.</p>
</blockquote>
</article><hr><nav class="pager"><ul class="pager-links"><li><a href="/testing-the-untestable/" title="Testing the Untestable">← Previous</a></li><li><a href="/installing-docker-on-hyper-v/" title="Installing Docker on Hyper-V">Next →</a></li></ul></nav></main><footer class="site-footer"><p>Copyright &#169; <a href="/about/">Devon Burriss</a> 2026</p></footer><div class="comments"><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname = 'devonburriss';(function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = 'https://devonburriss.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-45750611-2', 'auto');ga('send', 'pageview');</script></body></html>