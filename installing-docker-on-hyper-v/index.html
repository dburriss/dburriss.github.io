<!DOCTYPE html>
<html><head><!-- META --><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Installing Docker on Hyper-V</title><meta name="description" content="Installing Docker on Windows"><meta name="author" content="Devon Burriss"><link rel="icon" type="image/png" href="/img/favicon16.png" sizes="16x16"><link rel="icon" type="image/png" href="/img/favicon32.png" sizes="32x32"><meta itemprop="name" content="Installing Docker on Hyper-V"><meta itemprop="description" content="Installing Docker on Windows"><meta itemprop="image" content="https://devonburriss.me/img/explore-590.jpg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@DevonBurriss"><meta name="twitter:title" content="Installing Docker on Hyper-V"><meta name="twitter:description" content="Installing Docker on Windows"><meta name="twitter:creator" content="@DevonBurriss"><meta name="twitter:image" content="https://devonburriss.me/img/explore-590.jpg"><meta property="og:title" content="Installing Docker on Hyper-V"><meta property="og:type" content="article"><meta property="og:url" content="https://devonburriss.me/installing-docker-on-hyper-v/"><meta property="og:image" content="https://devonburriss.me/img/explore-590.jpg"><meta property="og:description" content="Installing Docker on Windows"><meta property="og:site_name" content="Devon Burriss&#39; Blog"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/clean-blog.css"><link rel="stylesheet" charset="UTF-8" href="/css/highlight/atom-one-light.css"><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]--></head><body><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class="container-fluid"><div class="navbar-header page-scroll"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">Devon Burriss&#39; Blog</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"><ul class="nav navbar-nav navbar-right"><li><a href="/">Home</a></li><li><a href="/recommended-reading.html">Recommended Reading</a></li><li><a href="/rss.xml"><span class="fa-stack fa-lg"><i class="fa fa-rss fa-stack-1x"></i></span></a></li></ul></div></div></nav><header class="intro-header" style="background-image: url(&#39;/img/backgrounds/explore-bg.jpg&#39;)"><div class="container-fluid"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><div class="frame"><h1>Installing Docker on Hyper-V</h1><span class="meta" itemprop="author" itemscope="" itemtype="https://schema.org/Person">Posted by <span itemprop="name">Devon Burriss</span> on March 07, 2015</span><div></div></div></div></div></div></div></header><article><div class="container-fluid"><div class="row"><div class="col-lg-8"><p>To be clear, currently Docker containers do not run on Windows. Microsoft is working with Docker to release something with feature parity but we will be lucky if we see that in 2015 (<a href="http://weblogs.asp.net/scottgu/docker-and-microsoft-integrating-docker-with-windows-server-and-microsoft-azure">Blogged by Scott Gu</a>). So although there is a client for Windows for managing Docker containers, we will need an Ubuntu install. <a href="http://devonburriss.me/installing-ubuntu-on-hyper-v/">Installing Ubuntu on Hyper-V</a></p>
<p><img src="/img/posts/2015/large_h.png" alt="Docker logo" /></p>
<!--more-->
<h1 id="installing-docker">Installing Docker</h1>
<p>Most of this is straight from the <a href="https://docs.docker.com/installation/ubuntulinux/">Docker documentation</a> but I ran into a few problems that I think may be due to this running on Hyper-V. Also I wanted a quick reference in the future.</p>
<p>First lets update our package repositories:
<code>sudo apt-get update</code></p>
<p>Currently the Docker docs mention pulling from their private repos to get the latest version but that was for Ubuntu 14.04. I noticed Ubuntu 14.10 repos contain Docker 1.2 which is at time of writing good enough for me.</p>
<p>So lets install Docker:
<code>sudo apt-get install docker.io</code></p>
<p>Then so we get bash completion we can type:
<code>source /etc/bash_completion.d/docker.io</code>
No <strong>sudo</strong> needed. Alternatively just reboot with:
<code>sudo reboot</code></p>
<p>Lets test our Docker install:
<code>sudo docker version</code>
<code>sudo docker info</code></p>
<p>This displays version number of the components and some basic info on the install respectively.</p>
<p>The info will contain a line <strong>WARNING: No swap limit support</strong> so lets fix that.
<code>sudo nano /etc/default/grub</code></p>
<p>Find the line <strong>GRUB___CMDLINE___LINUX</strong> and edit it:
<code>GRUB_CMDLINE_LINUX=&quot;cgroup_enable=memory swapaccount=1&quot;</code> then save and exit nano.</p>
<p>We need to update Grub and reboot.
<code>sudo update-grub</code></p>
<p><code>sudo reboot</code></p>
<p>Now running <code>sudo docker info</code> you will see the warning is gone.</p>
<p>If we try download and run a docker image we are still not there yet but lets try:
<code>sudo docker run -i -t ubuntu /bin/bash</code></p>
<h3 id="troubleshooting">Troubleshooting</h3>
<h4 id="unexpected-eof">Unexpected EOF</h4>
<p>This actually happens every now and again with Docker (I think if latency is bad) so just try run the command again and it will likely work.</p>
<h4 id="dial-tcp-lookup-registery-1.docker.io-no-such-host">dial tcp: lookup registery-1.docker.io: no such host</h4>
<p>The documentation explains how to add a dns to the docker options in <strong>/etc/default/docker</strong> but this actually didn't work for me on the Hyper-V. I had to edit <strong>/etc/resolv.conf</strong> and add the google nameserver there (doesn't have to be google).
<code>sudo nano /etc/resolv.conf</code>
Then add <strong>nameserver 8.8.8.8</strong> on a new line. Save and exit.
You might need to <code>sudo reboot</code>.</p>
<h3 id="finally-lets-run-something">Finally lets run something</h3>
<p>So now we should be ready to go. Run
<code>sudo docker run -i -t ubuntu /bin/bash</code> again.
This should now pull down the ubuntu image and start up a container running ubuntu (yes we are running Ubuntu in a kernal process on another Ubuntu - inception right?).
The <code>-t</code> is to assign a terminal and <code>-i</code> is so the connection is interactive.
Once it is running a terminal prompt will be available. Type <code>echo 'Hi'</code>. The Ubuntu container willl say hi back :)</p>
<p>So thats it. You have Docker running on a Hyper-V guest.</p>
<hr><ul class="pager"><li class="previous"><a href="/installing-ubuntu-on-hyper-v/" data-toggle="tooltip" data-placement="top" title="Installing Ubuntu on Hyper-V">&larr; Previous Post</a></li><li class="next"><a href="/aspnet-vsonline-ci/" data-toggle="tooltip" data-placement="top" title="ASP.NET 5 CI from Git to Azure without Visual Studio">Next Post &rarr;</a></li></ul></div><div class="col-lg-4 widget-column"><ul class="list-inline text-center"><li><a href="/rss.xml"><span class="fa-stack fa-lg"><i class="fa fa-square fa-stack-2x"></i><i class="fa fa-rss fa-stack-1x fa-inverse"></i></span></a></li><li><a href="/atom.xml"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-rss fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://twitter.com/DevonBurriss"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://github.com/dburriss"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-github fa-stack-1x fa-inverse"></i></span></a></li></ul><span style="display:contents"><h2><i class="glyphicon glyphicon-th-list"></i>  Topics</h2><a class="badge badge-info" href="/topics/software-design/" title="Architecture, design, modeling, and distributed systems."><span class="site-topic">Software Design</span></a><a class="badge badge-info" href="/topics/engineering-practices/" title="How we build, test, and validate software."><span class="site-topic">Engineering Practices</span></a><a class="badge badge-info" href="/topics/platforms-runtime/" title="Runtimes and execution environments (not frameworks)."><span class="site-topic">Platforms &amp; Runtime</span></a><a class="badge badge-info" href="/topics/tooling-automation/" title="Build tooling, CI/CD, editors, and developer automation."><span class="site-topic">Tooling &amp; Automation</span></a><a class="badge badge-info" href="/topics/reliability-observability/" title="Monitoring, metrics, reliability, and failure modes."><span class="site-topic">Reliability &amp; Observability</span></a><a class="badge badge-info" href="/topics/ai-agentic-systems/" title="AI, LLMs, and agentic workflows."><span class="site-topic">AI &amp; Agentic Systems</span></a><a class="badge badge-info" href="/topics/leadership-teams/" title="Human systems around software development."><span class="site-topic">Leadership &amp; Teams</span></a><a class="badge badge-info" href="/topics/notes-reflections/" title="Learning, career, ethics, and life-adjacent thinking."><span class="site-topic">Notes &amp; Reflections</span></a></span></div></div></div><hr></article><span style="display:contents"><footer><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><p class="copyright text-muted">Copyright &#169; <a href="/about.html">Devon Burriss</a> 2026</p></div></div></div></footer><script src="/js/jquery.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/clean-blog.min.js"></script><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></span><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-45750611-2', 'auto');ga('send', 'pageview');</script><div class="container-fluid"><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname = 'devonburriss';(function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = 'https://devonburriss.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></body></html>